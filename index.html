<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SismoAlerta</title>
  <link rel="stylesheet" href="styles.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>
<body>

<!-- HERO -->
<header class="hero">
  <div class="hero-overlay"></div>
  <div class="hero-container fade">
    <h1 class="hero-title">SismoAlerta</h1>
    <p class="hero-subtitle">Sistema educativo de alerta sísmica diseñado para guiar acciones seguras durante eventos sísmicos.</p>
    <button id="btnMostrar" class="btn-primary" aria-expanded="false" aria-controls="info">Conocer más</button>
  </div>
</header>

<!-- CONTENIDO DESPLEGABLE -->
<main>
  <section id="info" class="info hidden fade" aria-hidden="true">
    <!-- Usuarios beneficiados -->
    <div class="section">
      <h2 class="section-title" id="usuarios">Usuarios Clave</h2>

      <div class="card-grid">
        <div class="card fade-up">
          <i class="fa-solid fa-user-shield" aria-hidden="true"></i>
          <h3>Administradores</h3>
          <button class="btn-toggle" aria-expanded="false" aria-controls="desc-admin">Ver más</button>
          <p id="desc-admin" class="hidden-text">Supervisan usuarios, accesos y eventos registrados para garantizar el control.</p>
        </div>

        <div class="card fade-up">
          <i class="fa-solid fa-screwdriver-wrench" aria-hidden="true"></i>
          <h3>Técnicos</h3>
          <button class="btn-toggle" aria-expanded="false" aria-controls="desc-tec">Ver más</button>
          <p id="desc-tec" class="hidden-text">Monitorean nodos, detectan fallas, realizan mantenimiento preventivo.</p>
        </div>

        <div class="card fade-up">
          <i class="fa-solid fa-person-chalkboard" aria-hidden="true"></i>
          <h3>Docentes</h3>
          <button class="btn-toggle" aria-expanded="false" aria-controls="desc-doc">Ver más</button>
          <p id="desc-doc" class="hidden-text">Guían a los estudiantes durante simulacros sin generar pánico.</p>
        </div>
      </div>
    </div>

    <!-- Características -->
    <div class="section fade-up">
      <h2 class="section-title" id="caracteristicas">Características Principales</h2>
      <ul class="features">
        <li><i class="fa-solid fa-wave-square" aria-hidden="true"></i> Detección temprana de vibraciones sísmicas.</li>
        <li><i class="fa-solid fa-bell" aria-hidden="true"></i> Alertas visuales y auditivas inmediatas.</li>
        <li><i class="fa-solid fa-chart-line" aria-hidden="true"></i> Monitoreo en tiempo real de nodos.</li>
        <li><i class="fa-solid fa-graduation-cap" aria-hidden="true"></i> Modo simulacro educativo.</li>
      </ul>
    </div>
  </section>
</main>

<!-- FOOTER -->
<footer class="footer">
  <p>SismoAlerta — Proyecto académico 2025</p>
</footer>

<script>
  // Referencias
  const btnMostrar = document.getElementById("btnMostrar");
  const info = document.getElementById("info");

  // Helper para abrir/cerrar con sincronización de aria
  function setInfo(open) {
    info.classList.toggle("visible", open);
    info.classList.toggle("hidden", !open);
    info.setAttribute("aria-hidden", String(!open));
    btnMostrar.setAttribute("aria-expanded", String(open));
    btnMostrar.textContent = open ? "Ocultar" : "Conocer más";
  }

  // Click del botón principal
  btnMostrar.addEventListener("click", () => {
    const willOpen = !info.classList.contains("visible");
    setInfo(willOpen);

    // Si abrimos, navega a #caracteristicas si existe hash; si no, a #info
    if (willOpen) {
      const target = document.querySelector(location.hash || "#info");
      if (target) target.scrollIntoView({ behavior: "smooth" });
    }
  });

  // Abrir automáticamente si llegamos con #caracteristicas
  function openIfHash() {
    if (location.hash === "#caracteristicas") {
      setInfo(true);
      const target = document.querySelector("#caracteristicas");
      if (target) target.scrollIntoView({ behavior: "smooth" });
    }
  }
  window.addEventListener("hashchange", openIfHash);
  document.addEventListener("DOMContentLoaded", openIfHash);

  // Mostrar/Ocultar información por tarjeta (con aria)
  document.querySelectorAll(".btn-toggle").forEach(btn => {
    btn.addEventListener("click", () => {
      const desc = document.getElementById(btn.getAttribute("aria-controls"));
      const open = !desc.classList.contains("visible-text");
      desc.classList.toggle("visible-text", open);
      btn.setAttribute("aria-expanded", String(open));
      btn.textContent = open ? "Ocultar" : "Ver más";
    });
  });

  // Animación al hacer scroll
  const elements = document.querySelectorAll(".fade, .fade-up");
  const observer = new IntersectionObserver(entries => {
    entries.forEach(entry => {
      if (entry.isIntersecting) entry.target.classList.add("visible-scroll");
    });
  }, { threshold: 0.2 });
  elements.forEach(el => observer.observe(el));
</script>

</body>
</html>
